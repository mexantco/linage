<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css" >
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.js" integrity="sha512-+k1pnlgt4F1H8L7t3z95o3/KO+o78INEcXTbnoJQ/F2VqDVhWoaiVml/OEHv9HsVgxUaVW+IbiZPUJQfF/YxZw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mobile-detect/1.4.5/mobile-detect.min.js" integrity="sha512-1vJtouuOb2tPm+Jh7EnT2VeiCoWv0d7UQ8SGl/2CoOU+bkxhxSX4gDjmdjmbX4OjbsbCBN+Gytj4RGrjV3BLkQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</head>
<body>
    
        <video id="videoback" src="../assets/videoplayback(4)_1.mp4"  autoplay="autoplay" class="" loop="true"   muted="muted" playsinline ></video>

    
    <div class="lang">in english</div>
    <div class="lang2">
          <div class="lan ru activelang"></div>
          <div class="lan en"></div>
          <div class="lan ua"></div>
          <div class="lan com"></div>
    </div>
    <div class="wrapper row" id="container">
        <div class="preload_container"></div>
        <div class="logo_container">
            
                <img src="../assets/img/logo.png" class="logo" id="logo_id" alt="">
                <div class="logo "  id="wink"></div>
        </div>
        
        <div class="arrow_down">T</div>
             <div class="card_content" id="card1" ><div class="card"><div class="light" ></div></div></div>
             <div class="card_content" id="card2" ><div class="card"><div class="light" ></div></div></div>
             <div class="card_content" id="card3" ><div class="card"><div class="light" ></div></div></div>
             <div class="card_content" id="card4" ><div class="card"><div class="light" ></div></div></div>
             <div class="card_content" id="card5" ><div class="card"><div class="light" ></div></div></div>
             <div class="card_content" id="card6" ><div class="card"><div class="light" ></div></div></div>
        
    </div>
    <script>
//         $('#videoback').on('ended', function () {
//   this.load();
//   this.play();
// });
        
        
let detect = new MobileDetect(window.navigator.userAgent);

if(detect.mobile()==null){

    $('.card_content:not(.active)').on('mousemove',function (pos) {
            
            let le_wi=$(this).find('.light').width()/2;
            let le_hi=$(this).find('.light').height()/2;
           $(this).find('.light').attr('style', 'top:'+(pos.offsetY-le_hi)+'px; left:'+(pos.offsetX-le_wi)+'px;')

            let scrollTop = $('body').scrollTop();
           let top = $(window).height()/2.5;
           console.log('sc='+scrollTop+' top= '+top);
            var wi = $(this).width();
            var he = $(this).height();
           var otnwi = 100*pos.offsetX/wi;
           var otnhe = 100*pos.offsetY/he;
        //    $('.card_content').css('box-shadow', '0 0 15 0 white, '+(0.6*otnwi-30)+'px '+(0.6*otnhe-30)+'px 30px -34px #ffc107')
           var corY = -0.3*otnwi+15;
           var corX = -0.3*otnhe+15;
           var cor2Y= 360+(-0.3*otnwi+15);
           var cor2X=-0.3*otnhe+15;
//            if($(this).hasClass('active')){
            
//             $(this).attr('style', 'transform:translate3d(-50%, -50%, 15vw) rotateY('+cor2Y+'deg) rotateX('+(-cor2X)+'deg)!important; top:'+(scrollTop+top)+'px!important;');

//            }else{
//            $(this).css('transform', 'translate3d(0, 0, 0) rotateY('+corY+'deg) rotateX('+(-corX)+'deg)');
// }
// console.log(otnwi+'ff'+otnhe);
              if((otnwi<30||otnwi>70)||(otnhe<30||otnhe>70)){
                
                
                $(this).css('transform', 'translate3d(0, 0, 0) rotateY('+corY+'deg) rotateX('+(-corX)+'deg)');
                
              }else{
                $(this).css('transition', 'initial');
                $(this).css('transform', 'translate3d(0, 0, 0) rotateY('+corY+'deg) rotateX('+(-corX)+'deg)');
            }

});
    var act = false;

//         $('.card_content').on('click', (e)=>{
           
//            let el_id= e.target.id;

//            if(act){
            
//             $('.active').removeAttr('style');
//             $('.active').toggleClass('active');
           
//            act=false;}
           
//             if($('#'+el_id).attr('data-left') == undefined){
                

                
//            var left = $('#'+el_id).css('left');
           
        
//            $('#'+el_id).removeAttr('style');
//            $('#'+el_id).toggleClass('active');
//            let scrollTop = $('body').scrollTop();
//            let top = $(window).height()/2.2;
//            console.log('sc='+scrollTop+' top= '+top);
//            $('#'+el_id).attr('style', 'top:'+(scrollTop+top)+'px!important;')
//            $('#'+el_id).attr('data-left', left);
//            console.log($('#'+el_id).css('transform'));
//             act=true;

//            }else{
           
            
            
//             var left = $('#'+el_id).attr('data-left');
            
            
//             $('.active').toggleClass('active');
//             $('#'+el_id).removeAttr('style');
//             $('#'+el_id).removeAttr('data-left');
            
//              act=false;
//          }

           
//   });
}

$('.card_content:not(.active)').on('mouseleave', (e)=>{
    let id = e.target.id;
    $('#'+id).css('transition', 'all 0.5s  cubic-bezier(.47,1.64,.41,.8)')
    $('#'+id).css('transform', 'translate3d(0,0,0)');
}); 
  var lang = 'ru';
    $('.lang').on('click', ()=>{
        if(lang=='ru'){
        lang = 'en';
        $('.lang').css('transform', 'translate(-50%, -50%) rotate(90deg) rotateY(180deg) scaleX(-1)');
        $('.lang').css('background-image', 'linear-gradient(to left, #0000008a, transparent, transparent), url("../assets/img/russia-flag.jpg")');
        $('.lang').text('по русски');
        $('.lang').css('text-align', 'right');

        }
        else{
            $('.lang').css('transform', 'translate(-50%, -50%) rotate(90deg) rotateY(0)');
            $('.lang').css('background-image', 'linear-gradient(to right, #0000008a, #000000d1, transparent, transparent), url("../assets/img/usa-flag.jpg")');
            $('.lang').text('in english');
            $('.lang').css('text-align', 'left');
        
            lang='ru';
        }
    })
    $(document).ready(()=>{
        const fn=()=>{
            $('.preload_container').css('opacity', '0');
            $('.preload_container').css('z-index', '0');
            if(detect.mobile()==null){
            $('.lang2').css('left','0');
              setTimeout('$(\'.lang2\').css(\'height\', \'6vh\');', 5000)
             }else{
                $('.lang2').css('top','0');
                setTimeout('$(\'.lang2\').css(\'width\', \'8vw\');', 5000)
            }
            setTimeout('$(\'.com\').css(\'flex\', \'1\'); $(\'.ru, .en, .ua\').css(\'flex\', \'0\'); ', 5000);
            $('.arrow_down').css('text-shadow', '0px 0px 0px rgb(255, 208, 163)');

        }
        const fn2 = ()=>{
            $('body').css('overflow','scroll');
        
        }
        setTimeout(fn, 3000);
        //setTimeout(fn2, 3000);
        $('#wink').addClass('wink');
        $('.logo_container').css('opacity','1');
       
        
    });
    
    $('.lan').on('click', function(){
        $('*').removeClass('activelang');
        $(this).addClass('activelang');
    });

    $('.com').on('click', function(){
        if(detect.mobile()==null){
            $('.lang2').css('height', '20vh');
            $('.ru, .en, .ua').css('flex', '1');
            $('.com').css('flex', '0');
        }else{
            $('.lang2').css('width', '20vh');
            $('.ru, .en, .ua').css('flex', '1');
            $('.com').css('flex', '0');
        }
        const hide = ()=>{
            if(detect.mobile()==null){
            $('.lang2').css('height', '6vh');
            $('.ru, .en, .ua').css('flex', '0');
            $('.com').css('flex', '1');
        }else{
            $('.lang2').css('width', '8vw');
            $('.ru, .en, .ua').css('flex', '0');
            $('.com').css('flex', '1');
        }
        }
        setTimeout(hide, 5000)
    })
    </script>
</body>

</html>